export class ConcreteSubject {
    constructor() {
        this.observableArray = [];
    }
    notifyAll(args) {
        this.observableArray.map(o => o(args));
    }
    attach(fn) {
        if (this.observableArray.some(o => o === fn))
            throw new Error('The function is already attached!');
        this.observableArray.push(fn);
    }
    detach(fn) {
        const index = this.observableArray.findIndex(o => o === fn);
        if (this.observableArray[index])
            this.observableArray.splice(index, 1);
    }
}
export const concreteSubject = new ConcreteSubject;
//# sourceMappingURL=concreteSubject.js.map